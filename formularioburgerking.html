<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <script type="text/javascript" src="js/jquery/jquery-1.7.1.min.js"></script>
  <script type="text/javascript" src="js/jquery/jquery-ui-1.8.17.custom.min.js"></script>
  <script type="text/javascript" src="jspdf.js"></script>
  <script type="text/javascript" src="jspdf.plugin.addimage.js"></script>
  <script type="text/javascript" src="jspdf.plugin.standard_fonts_metrics.js"></script>
  <script type="text/javascript" src="jspdf.plugin.split_text_to_size.js"></script>
  <script type="text/javascript" src="jspdf.plugin.from_html.js"></script>
  <link rel="stylesheet" type="text/css" href="estilosformulariobk.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fugaz+One&family=Ultra&display=swap" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contacto</title>
  <link rel="icon" href="https://upload.wikimedia.org/wikipedia/commons/thumb/c/cc/Burger_King_2020.svg/1200px-Burger_King_2020.svg.png" type="image/x-icon">
</head>
<body>
  <header>
    <nav>
      <ul>
        <li><a href="https://alfonsomrnt18.github.io/Progra_web1/BurgerKing.html" target="_blank">Menú</a></li>
        <li><a href="https://alfonsomrnt18.github.io/Progra_web1/sucursales.html" target="_blank">Sucursales</a></li>
        <li><a href="https://alfonsomrnt18.github.io/Progra_web1/secciondeayuda.html" target="_blank">Foro</a></li>
        <li><a href="https://alfonsomrnt18.github.io/Progra_web1/formularioburgerking.html" target="_blank">Contacto</a></li>
      </ul>
    </nav>
  </header>
  <br>

  <div class="container">
    <img src="Captura de pantalla 2025-03-18 111540.png" width="20%" height="20%">
  </div>

  <h2 style="text-align: center;">Encuesta de Satisfacción - Burger King</h2>

  <form action="https://formsubmit.co/186827@upslp.edu.mx" method="POST">
    <input type="hidden" name="_next" value="https://tusitio.com/gracias.html"> 
    <input type="hidden" name="_captcha" value="false">

    <label>
      Nombres:
      <input type="text" name="nombres" id="nombres" required>
    </label><br>

    <label>
      Apellidos:
      <input type="text" name="apellidos" id="apellidos" required>
    </label><br>

    <label>
      Correo electrónico:
      <input type="email" name="correo" id="correo" required>
    </label><br>

    <label>
      Calidad de los productos (1-5):
      <select name="productos" id="productos" required>
        <option value="">Seleccione una opción</option>
        <option value="1">1 - Muy mala</option>
        <option value="2">2 - Mala</option>
        <option value="3">3 - Regular</option>
        <option value="4">4 - Buena</option>
        <option value="5">5 - Excelente</option>
      </select>
    </label><br>

    <label>
      Calidad del servicio (1-5):
      <select name="servicio" id="servicio" required>
        <option value="">Seleccione una opción</option>
        <option value="1">1 - Muy malo</option>
        <option value="2">2 - Malo</option>
        <option value="3">3 - Regular</option>
        <option value="4">4 - Bueno</option>
        <option value="5">5 - Excelente</option>
      </select>
    </label><br>

    <label>
      Atención de los empleados (1-5):
      <select name="empleados" id="empleados" required>
        <option value="">Seleccione una opción</option>
        <option value="1">1 - Muy mala</option>
        <option value="2">2 - Mala</option>
        <option value="3">3 - Regular</option>
        <option value="4">4 - Buena</option>
        <option value="5">5 - Excelente</option>
      </select>
    </label><br>

    <label>
      Quejas y/o sugerencias:
      <textarea name="comentarios" id="comentarios" rows="4" placeholder="Escribe aquí tus comentarios..."></textarea>
    </label><br>

    <label class="terminos-label">
      <input type="checkbox" name="terminos" id="terminos" required>
      Acepto los términos y condiciones
    </label><br><br>

    <div class="botones">
      <button type="submit">Enviar Evaluación</button>
      <button type="button" onclick="generarPDF()">Generar PDF</button>
      <button type="button" onclick="reiniciarFormulario()">Reiniciar</button>
    </div>
  </form>

  <div class="resultado" id="mensaje" style="font-weight: bold;"></div><br>
  <iframe src="" name="contenedor" width="700" height="900" frameborder="0"></iframe>

  <script>
    function generarPDF() {
      const nombres = document.getElementById('nombres').value.trim();
      const apellidos = document.getElementById('apellidos').value.trim();
      const correo = document.getElementById('correo').value;
      const prod = document.getElementById('productos').options[document.getElementById('productos').selectedIndex].text;
      const serv = document.getElementById('servicio').options[document.getElementById('servicio').selectedIndex].text;
      const empl = document.getElementById('empleados').options[document.getElementById('empleados').selectedIndex].text;
      const comentarios = document.getElementById('comentarios').value;

      const total = parseInt(document.getElementById('productos').value) + parseInt(document.getElementById('servicio').value) + parseInt(document.getElementById('empleados').value);
      let mensaje = "";

      if (total <= 6) {
        mensaje = "Lamentamos que tu experiencia no haya sido satisfactoria.";
      } else if (total <= 10) {
        mensaje = "Gracias por tu retroalimentación.";
      } else {
        mensaje = "¡Gracias por tu excelente evaluación!";
      }

      document.getElementById('mensaje').textContent = mensaje;

      const doc = new jsPDF();
      doc.setFontSize(12);
      doc.text("Comprobante de Encuesta - Burger King", 20, 20);
      doc.text(`Nombre: ${nombres} ${apellidos}`, 20, 35);
      doc.text(`Correo: ${correo}`, 20, 45);
      doc.text(`Calidad de productos: ${prod}`, 20, 55);
      doc.text(`Calidad del servicio: ${serv}`, 20, 65);
      doc.text(`Atención de empleados: ${empl}`, 20, 75);
      doc.text("Comentarios:", 20, 85);
      doc.text(comentarios || "(Sin comentarios)", 20, 95, { maxWidth: 170 });
      doc.text("Resultado:", 20, 125);
      doc.text(mensaje, 20, 135, { maxWidth: 170 });

      const strimg = doc.output('datauristring');
      document.querySelector('iframe').src = strimg;
    }

    function reiniciarFormulario() {
      document.querySelector('form').reset();
      document.getElementById('mensaje').textContent = '';
      document.querySelector('iframe').src = '';
    }
  </script>
</body>
</html>
